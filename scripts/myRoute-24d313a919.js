!function(t){function e(){var t=location.hash,e=(t=t.slice(1)).split("?");hashPath=e[0];var n={},o=e[1];if(o){o=e[1].split("&");for(var r=0;r<o.length;r++){var a=o[r].split("=");n[a[0]]=a[1]}}return{path:hashPath,queryString:n}}function n(){this.routers={},this.init()}n.prototype={constructor:n,init:function(){var t=this;window.addEventListener("load",function(){console.log("事件被触发几次？"),t.urlChange()}),window.addEventListener("hashchange",function(){console.log("锚点修改几次几次？"),t.urlChange()})},urlChange:function(){console.log("这个执行几次？");var t=e();this.routers[t.path]?this.refreshPage(t):location.hash="/index"},refreshPage:function(t){console.log("刷新");this.routers[t.path].callback.call(this,t)},deferLoad:function(t){var e=this.routers[t.path].fileName;console.log("fileName",e);var n=this,o=document.getElementsByTagName("body")[0];for(var r in n.routers){var a=n.routers[r].fn.length,i=n.routers[r];if(0!=a){for(var s=0;s<a;s++)o.removeChild(i.fn[s]);i.fn=[]}}for(var l=0,h=e.length;l<h;l++){var c=document.createElement("script");c.type="text/javascript",c.src=e[l],c.defer=!0,o.appendChild(c),n.routers[t.path].fn.push(c)}},mapRoute:function(t,e,n){t=t.replace(/\s*/g,""),n&&"[object Function]"==={}.toString.call(n)?this.routers[t]={callback:n,fileName:e,fn:[]}:console.log("该锚点没有传入有效的回调函数")}},t.Route=new n}(window);